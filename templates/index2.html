<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piperita : Business Process Diagram Generator</title>
    <!-- Include Ace Editor library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>
    
    <style>
        #editor {
            width: 100%;
            height: 300px;
        }
    </style>
</head>

<body>
    <h1>Piperita : Business Process Diagram Generator</h1>
    
    <form id="diagram-form" method="POST">
        <label for="text">Enter multiline text:</label><br>
        <!-- Replace textarea with a div for Ace Editor -->
        <div id="editor" style="width: 600px; height: 300px;">title: abc
colourtheme: BLUEMOUNTAIN
lane: lane1
(start) as start
[task 1] as task1
(end) as end

start->task1->end
        </div>
        <script src="{{ url_for('static', filename='custom_highlighter.js') }}"></script>
        <input type="submit" value="Generate Diagram">
        <!-- Add a hidden input to store the content from Ace Editor -->
        <input type="hidden" name="text" id="text">
    </form>
    {% if diagram %}
    <h2>Generated Diagram:</h2>
    <img src="data:image/png;base64,{{ diagram }}" alt="Generated Diagram">
    {% endif %}

    
    

    
</body>

</html>